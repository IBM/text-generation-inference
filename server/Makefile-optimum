# Latest commit from huggingface/optimum main branch
optimum_commit := 95820ee52e6e984938bea2a750a792dbe2f9070f

install-optimum:
	pip uninstall optimum optimum[onnxruntime-gpu] -y || true
	rm -rf optimum || true
	rm -rf optimum-$(optimum_commit) || true
	curl -L -O https://github.com/huggingface/optimum/archive/$(optimum_commit).zip
	unzip -q $(optimum_commit).zip
	rm $(optimum_commit).zip
	mv optimum-$(optimum_commit) optimum
	cd optimum && pip install ".[onnxruntime-gpu]" --no-cache-dir
